!function(){var e,t,a,o,n,c={80:function(e){var t=$('meta[name="csrf-token"]').attr("content");var a={toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:!1,callbacks:{onImageUpload:function(e){var a,o,n;a=e[0],o=this,(n=new FormData).append("image",a),n.append("_token",t),$.ajax({url:"/admin/upload/image",cache:!1,contentType:!1,processData:!1,data:n,type:"post",success:function(e){var t='<picture>\n                <source srcSet="/uploads/'.concat(e.urls.webp,'" type="image/webp">\n                <img src="/uploads/').concat(e.urls.original,'" alt="описание"/>\n            </picture>');$(o).summernote("pasteHTML",t)},error:function(e){console.log("error",e)}})}}};e.exports={module:{rules:[{test:/\.css$/,loader:"exports-loader",use:["style-loader","css-loader"]}]},token:t,summernote_config:a}}},s={};function i(e){var t=s[e];if(void 0!==t)return t.exports;var a=s[e]={exports:{}};return c[e](a,a.exports,i),a.exports}t=i(80),a=t.summernote_config,o=t.JSONEditor_options,n=document.getElementById("jsoneditor"),$(".editor").each((function(){var e=this.id;$("#".concat(e)).summernote(a),$("#".concat(e))[0].value=$("#".concat(e)).summernote("code"),$("#".concat(e)).on("summernote.change",(function(){$("#".concat(e))[0].value=$("#".concat(e)).summernote("code")}))})),$(document).on("change",".select-type",(function(){$(".overlay").show();var e=this.dataset.u_id,t=this;"-1"!=this.value&&$.ajax({url:"/admin/block_templates/attributes/template/".concat(this.value,"/").concat(e),method:"GET",success:function(o){if(o.errors);else if(o.status)switch($("#attribute_fields_".concat(e))[0].style="",$("#attribute_fields_".concat(e)).append(o.html),1*t.value){case 0:case 1:case 2:case 4:break;case 3:var n=o.u_id;$("#".concat(n)).summernote(a),$("#".concat(n))[0].value=$("#".concat(n)).summernote("code"),$("#".concat(n)).on("summernote.change",(function(){$("#".concat(n))[0].value=$("#".concat(n)).summernote("code")}))}$(t).selectedIndex=-1,$(t).val("-1").change(),$(".overlay").hide()}})})),$(document).on("click",".remove-input",(function(){$(".card-footer").after('<input type="hidden" name="delete_attribute[]" value="'.concat(this.dataset.id,'">')),$(this).parent(".input-group-append").parent(".input-group").remove(),$("#option_".concat(this.dataset.u_id)).remove()})),$(document).on("click",".remove-input-repeater",(function(){$(".card-footer").after('<input type="hidden" name="delete_repeater[]" value="'.concat(this.dataset.id,'">')),$("#option_repeater_".concat(this.dataset.id)).remove()})),$(document).on("change",".image-input",(function(){var e=this.dataset.id,t=new FileReader;t.readAsDataURL(this.files[0]),t.onload=function(){var t=document.getElementById("image_".concat(e));t.style="",t.src=this.result}})),$(document).on("click",".edit-setting",(function(){var t;t=$("#selector_".concat(this.dataset.u_id))[0].value?JSON.parse($("#selector_".concat(this.dataset.u_id))[0].value):window["".concat(this.dataset.input_type,"_").concat(this.dataset.u_id)],(e=new JSONEditor(n,o)).set(t),$("#save_settings")[0].dataset.u_id=this.dataset.u_id})),$(document).on("click",".save-setting",(function(){$("#selector_".concat(this.dataset.u_id))[0].value=JSON.stringify(e.get()),$("#editorFormModal").modal("toggle")})),$("#editorFormModal").on("hidden.bs.modal",(function(){e.destroy()}))}();
//# sourceMappingURL=create.js.map